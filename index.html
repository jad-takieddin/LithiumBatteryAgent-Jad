<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Qnovo Battery Design Intelligence Agent</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Outfit:wght@300;400;500;600;700;800&family=IBM+Plex+Mono:wght@400;500;600;700&display=swap" rel="stylesheet">
    <style>
        :root {
            --navy-deep: #0B1221;
            --navy-mid: #1A2332;
            --navy-card: #1E293B;
            --navy-light: #334155;
            --accent-gold: #C9A961;
            --accent-gold-muted: #9D8451;
            --accent-gold-dim: #766239;
            --bg-panel: #0F1729;
            --text-light: #F1F5F9;
            --text-muted: #94A3B8;
            --text-dim: #64748B;
            --success: #10B981;
            --warning: #F59E0B;
            --danger: #EF4444;
            --border-subtle: rgba(148, 163, 184, 0.1);
            --border-gold: rgba(201, 169, 97, 0.2);
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Outfit', sans-serif;
            background: linear-gradient(135deg, var(--navy-deep) 0%, var(--navy-mid) 100%);
            color: var(--text-light);
            min-height: 100vh;
            position: relative;
            overflow-x: hidden;
        }

        /* Animated Background Pattern - Hexagons */
        body::before {
            content: '';
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-image: 
                radial-gradient(circle at 20% 30%, rgba(212, 175, 55, 0.08) 0%, transparent 50%),
                radial-gradient(circle at 80% 70%, rgba(212, 175, 55, 0.06) 0%, transparent 50%);
            pointer-events: none;
            z-index: 0;
        }

        body::after {
            content: '';
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-image: repeating-linear-gradient(
                0deg,
                transparent,
                transparent 80px,
                rgba(212, 175, 55, 0.03) 80px,
                rgba(212, 175, 55, 0.03) 81px
            );
            pointer-events: none;
            z-index: 0;
        }

        /* Header */
        .header {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            height: 70px;
            background: rgba(11, 18, 33, 0.98);
            backdrop-filter: blur(20px);
            border-bottom: 1px solid var(--border-gold);
            z-index: 1000;
            display: flex;
            align-items: center;
            justify-content: space-between;
            padding: 0 40px;
            box-shadow: 0 1px 3px rgba(0, 0, 0, 0.2);
        }

        .logo {
            display: flex;
            align-items: center;
            gap: 16px;
        }

        .logo-icon {
            width: 40px;
            height: 40px;
            background: var(--accent-gold);
            border-radius: 6px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: 700;
            font-size: 20px;
            color: var(--navy-deep);
        }

        .logo-text {
            display: flex;
            flex-direction: column;
            gap: 2px;
        }

        .logo-title {
            font-size: 20px;
            font-weight: 600;
            letter-spacing: -0.3px;
            color: var(--text-light);
            font-family: 'Outfit', sans-serif;
        }

        .logo-subtitle {
            font-size: 11px;
            font-weight: 500;
            letter-spacing: 0.5px;
            color: var(--text-dim);
            text-transform: uppercase;
        }

        .header-status {
            display: flex;
            align-items: center;
            gap: 8px;
            padding: 8px 16px;
            background: rgba(30, 41, 59, 0.6);
            border: 1px solid var(--border-subtle);
            border-radius: 6px;
            font-size: 13px;
            color: var(--text-light);
            font-weight: 500;
        }

        .status-dot {
            width: 8px;
            height: 8px;
            background: var(--accent-gold);
            border-radius: 50%;
            animation: pulse-gold 2s infinite;
        }

        @keyframes pulse-gold {
            0%, 100% { opacity: 1; transform: scale(1); }
            50% { opacity: 0.6; transform: scale(1.1); }
        }

        /* Main Container */
        .main-container {
            margin-top: 70px;
            display: grid;
            grid-template-columns: 420px 1fr;
            min-height: calc(100vh - 70px);
            position: relative;
            z-index: 1;
        }

        /* Left Panel - Input Form */
        .input-panel {
            background: var(--bg-panel);
            border-right: 1px solid var(--border-subtle);
            padding: 32px;
            overflow-y: auto;
        }

        .panel-header {
            margin-bottom: 28px;
            padding-bottom: 16px;
            border-bottom: 1px solid var(--border-subtle);
        }

        .panel-title {
            font-size: 13px;
            font-weight: 600;
            letter-spacing: 1px;
            text-transform: uppercase;
            color: var(--accent-gold);
            margin-bottom: 6px;
        }

        .panel-description {
            font-size: 13px;
            color: var(--text-muted);
            line-height: 1.5;
        }

        /* Recent Searches */
        .recent-searches {
            margin-bottom: 24px;
            padding: 16px;
            background: var(--navy-card);
            border: 1px solid var(--border-subtle);
            border-radius: 8px;
        }

        .recent-label {
            font-size: 11px;
            font-weight: 600;
            letter-spacing: 0.5px;
            text-transform: uppercase;
            color: var(--text-dim);
            margin-bottom: 10px;
            display: flex;
            align-items: center;
            gap: 6px;
        }

        .recent-icon {
            font-size: 14px;
        }

        .recent-dropdown {
            width: 100%;
            padding: 12px 14px;
            background: rgba(30, 58, 95, 0.5);
            border: 1px solid rgba(212, 175, 55, 0.3);
            border-radius: 6px;
            color: var(--text-light);
            font-size: 13px;
            font-weight: 500;
            cursor: pointer;
            transition: all 0.3s ease;
            font-family: 'Outfit', sans-serif;
        }

        .recent-dropdown:hover {
            background: rgba(30, 58, 95, 0.7);
            border-color: var(--gold-bright);
        }

        .recent-dropdown:focus {
            outline: none;
            border-color: var(--gold-bright);
            box-shadow: 0 0 0 3px rgba(212, 175, 55, 0.2);
        }

        .recent-dropdown option {
            background: var(--navy-mid);
            color: var(--text-light);
            padding: 8px;
        }

        /* Form Groups */
        .form-group {
            margin-bottom: 24px;
        }

        label {
            display: block;
            font-size: 11px;
            font-weight: 600;
            letter-spacing: 0.5px;
            text-transform: uppercase;
            color: var(--text-dim);
            margin-bottom: 8px;
        }

        .required {
            color: var(--danger);
            margin-left: 4px;
        }

        select, input[type="text"] {
            width: 100%;
            padding: 11px 14px;
            background: var(--navy-deep);
            border: 1px solid var(--border-subtle);
            border-radius: 6px;
            color: var(--text-light);
            font-size: 14px;
            font-weight: 400;
            transition: all 0.2s ease;
            font-family: 'Outfit', sans-serif;
        }

        select:focus, input[type="text"]:focus {
            outline: none;
            background: var(--navy-card);
            border-color: var(--accent-gold);
            box-shadow: 0 0 0 3px rgba(201, 169, 97, 0.1);
        }

        select option {
            background: var(--navy-card);
            color: var(--text-light);
            padding: 10px;
        }

        .input-hint {
            font-size: 11px;
            color: var(--text-muted);
            margin-top: 6px;
            font-style: italic;
        }

        /* Run Agent Button */
        .run-agent-btn {
            width: 100%;
            padding: 14px;
            background: var(--accent-gold);
            border: none;
            border-radius: 6px;
            color: var(--navy-deep);
            font-size: 14px;
            font-weight: 600;
            letter-spacing: 0.3px;
            text-transform: uppercase;
            cursor: pointer;
            transition: all 0.2s ease;
            margin-top: 24px;
            position: relative;
            overflow: hidden;
        }

        .run-agent-btn::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.2), transparent);
            transition: left 0.5s ease;
        }

        .run-agent-btn:hover {
            background: var(--accent-gold-muted);
            transform: translateY(-1px);
        }

        .run-agent-btn:hover::before {
            left: 100%;
        }

        .run-agent-btn:active {
            transform: translateY(0);
        }

        .run-agent-btn:disabled {
            opacity: 0.5;
            cursor: not-allowed;
            transform: none;
        }

        .run-agent-btn.running {
            background: var(--accent-gold-dim);
        }

        /* Right Panel - Results */
        .results-panel {
            padding: 32px 40px;
            overflow-y: auto;
            background: var(--navy-deep);
        }

        /* Agent Status */
        .agent-status {
            background: var(--navy-card);
            border: 1px solid var(--border-subtle);
            border-radius: 8px;
            padding: 48px 32px;
            text-align: center;
            margin-bottom: 32px;
        }

        .agent-icon {
            width: 56px;
            height: 56px;
            background: rgba(201, 169, 97, 0.1);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            margin: 0 auto 16px;
            font-size: 28px;
            border: 1px solid var(--border-gold);
        }

        .agent-title {
            font-size: 18px;
            font-weight: 600;
            color: var(--text-light);
            margin-bottom: 6px;
        }

        .agent-subtitle {
            font-size: 13px;
            color: var(--text-muted);
            line-height: 1.6;
        }

        /* Processing State */
        .agent-status.processing {
            border-color: var(--border-gold);
            background: var(--navy-card);
        }

        .agent-status.processing .agent-icon {
            background: rgba(201, 169, 97, 0.15);
            animation: pulse-processing 1.5s infinite;
            border-color: var(--accent-gold);
        }

        @keyframes pulse-processing {
            0%, 100% { transform: scale(1); box-shadow: 0 0 0 0 rgba(212, 175, 55, 0.7); }
            50% { transform: scale(1.05); box-shadow: 0 0 0 10px rgba(212, 175, 55, 0); }
        }

        .processing-steps {
            margin-top: 30px;
            text-align: left;
        }

        .step-item {
            display: flex;
            align-items: center;
            gap: 14px;
            padding: 12px 0;
            opacity: 0;
            animation: fadeInStep 0.5s forwards;
        }

        @keyframes fadeInStep {
            from { opacity: 0; transform: translateX(-20px); }
            to { opacity: 1; transform: translateX(0); }
        }

        .step-icon {
            width: 28px;
            height: 28px;
            background: rgba(201, 169, 97, 0.1);
            border: 1px solid var(--border-gold);
            border-radius: 4px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 12px;
            font-weight: 600;
            color: var(--accent-gold);
            flex-shrink: 0;
        }

        .step-text {
            font-size: 14px;
            color: var(--text-light);
            line-height: 1.5;
        }

        /* Results Container */
        .results-container {
            display: none;
        }

        .results-container.visible {
            display: block;
            animation: fadeIn 0.5s ease;
        }

        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }

        /* Battery Profile Section */
        .battery-profile {
            background: var(--navy-card);
            border: 1px solid var(--border-subtle);
            border-radius: 8px;
            padding: 24px;
            margin-bottom: 24px;
        }

        .profile-header {
            display: flex;
            justify-content: space-between;
            align-items: flex-start;
            margin-bottom: 20px;
            padding-bottom: 16px;
            border-bottom: 1px solid var(--border-subtle);
        }

        .profile-title {
            font-size: 16px;
            font-weight: 600;
            color: var(--text-light);
        }

        .data-coverage {
            text-align: right;
        }

        .coverage-label {
            font-size: 10px;
            text-transform: uppercase;
            letter-spacing: 1px;
            color: var(--text-muted);
            margin-bottom: 4px;
        }

        .coverage-value {
            font-size: 15px;
            font-weight: 600;
            color: var(--accent-gold);
            font-family: 'IBM Plex Mono', monospace;
        }

        /* Alert Box */
        .profile-alert {
            background: rgba(245, 158, 11, 0.08);
            border-left: 2px solid var(--warning);
            padding: 12px 16px;
            border-radius: 4px;
            margin-bottom: 20px;
        }

        .alert-icon {
            display: inline-block;
            margin-right: 8px;
            font-size: 14px;
        }

        .alert-text {
            font-size: 12px;
            color: var(--text-light);
            line-height: 1.6;
        }

        /* Profile Data Grid */
        .profile-data {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 20px;
            margin-bottom: 20px;
        }

        .profile-item {
            display: flex;
            flex-direction: column;
            gap: 6px;
        }

        .profile-label {
            font-size: 10px;
            text-transform: uppercase;
            letter-spacing: 1px;
            color: var(--text-muted);
            font-weight: 600;
        }

        .profile-value {
            font-size: 15px;
            color: var(--text-light);
            font-weight: 600;
        }

        /* Risk Badges */
        .risk-badges {
            display: flex;
            gap: 12px;
            margin-top: 20px;
            padding-top: 20px;
            border-top: 1px solid var(--border-subtle);
        }

        .risk-badge {
            flex: 1;
            padding: 12px;
            background: var(--navy-deep);
            border: 1px solid var(--border-subtle);
            border-radius: 6px;
            text-align: center;
        }

        .risk-badge-label {
            font-size: 10px;
            text-transform: uppercase;
            letter-spacing: 1px;
            color: var(--text-muted);
            margin-bottom: 6px;
        }

        .risk-badge-value {
            font-size: 14px;
            font-weight: 700;
            font-family: 'IBM Plex Mono', monospace;
        }

        .risk-badge.low .risk-badge-value {
            color: var(--success);
        }

        .risk-badge.medium .risk-badge-value {
            color: var(--warning);
        }

        .risk-badge.high .risk-badge-value {
            color: var(--danger);
        }

        /* Insight Cards */
        .insight-cards {
            display: flex;
            flex-direction: column;
            gap: 20px;
            margin-bottom: 24px;
        }

        .insight-card {
            background: var(--navy-card);
            border: 1px solid var(--border-subtle);
            border-radius: 8px;
            padding: 24px;
            transition: all 0.2s ease;
        }

        .insight-card:hover {
            border-color: var(--border-gold);
            transform: translateY(-2px);
        }

        .card-header {
            display: flex;
            justify-content: space-between;
            align-items: flex-start;
            margin-bottom: 20px;
            padding-bottom: 16px;
            border-bottom: 1px solid var(--border-subtle);
        }

        .card-title-section {
            flex: 1;
        }

        .card-title {
            font-size: 16px;
            font-weight: 600;
            color: var(--text-light);
            margin-bottom: 6px;
        }

        .card-subtitle {
            font-size: 12px;
            color: var(--text-dim);
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }

        .card-risk-rating {
            padding: 6px 14px;
            background: rgba(201, 169, 97, 0.1);
            border: 1px solid var(--border-gold);
            border-radius: 4px;
            font-size: 12px;
            font-weight: 600;
            font-family: 'IBM Plex Mono', monospace;
        }

        .card-risk-rating.low {
            background: rgba(16, 185, 129, 0.2);
            border-color: rgba(16, 185, 129, 0.4);
            color: var(--success);
        }

        .card-risk-rating.medium {
            background: rgba(245, 158, 11, 0.2);
            border-color: rgba(245, 158, 11, 0.4);
            color: var(--warning);
        }

        .card-risk-rating.high {
            background: rgba(239, 68, 68, 0.2);
            border-color: rgba(239, 68, 68, 0.4);
            color: var(--danger);
        }

        .card-section {
            margin-bottom: 20px;
        }

        .card-section:last-child {
            margin-bottom: 0;
        }

        .section-label {
            font-size: 11px;
            text-transform: uppercase;
            letter-spacing: 0.5px;
            color: var(--accent-gold);
            font-weight: 600;
            margin-bottom: 12px;
            display: flex;
            align-items: center;
            gap: 6px;
        }

        .pattern-list, .signal-list {
            display: flex;
            flex-direction: column;
            gap: 10px;
        }

        .pattern-item, .signal-item {
            padding: 12px 14px;
            background: var(--navy-deep);
            border-left: 2px solid var(--accent-gold-dim);
            border-radius: 4px;
            font-size: 13px;
            color: var(--text-light);
            line-height: 1.6;
        }

        .pattern-item::before {
            content: "‚ñ∏ ";
            color: var(--accent-gold);
            font-weight: 600;
            margin-right: 6px;
        }

        .signal-item::before {
            content: "‚ö† ";
            margin-right: 8px;
        }

        /* Compliance Section */
        .compliance-section {
            background: var(--navy-card);
            border: 1px solid var(--border-subtle);
            border-radius: 8px;
            padding: 24px;
        }

        .compliance-title {
            font-size: 15px;
            font-weight: 600;
            color: var(--text-light);
            margin-bottom: 16px;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .compliance-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 16px;
            margin-bottom: 20px;
        }

        .compliance-item {
            padding: 12px 16px;
            background: var(--navy-deep);
            border: 1px solid var(--border-subtle);
            border-radius: 6px;
            display: flex;
            align-items: center;
            gap: 12px;
        }

        .compliance-icon {
            font-size: 20px;
        }

        .compliance-details {
            flex: 1;
        }

        .compliance-region {
            font-size: 12px;
            font-weight: 600;
            color: var(--text-light);
            margin-bottom: 4px;
        }

        .compliance-status {
            font-size: 11px;
            color: var(--text-muted);
        }

        .safety-readiness {
            padding: 14px 16px;
            background: var(--navy-deep);
            border: 1px solid var(--border-gold);
            border-radius: 6px;
            display: flex;
            align-items: center;
            gap: 12px;
        }

        .safety-icon {
            font-size: 24px;
        }

        .safety-details {
            flex: 1;
        }

        .safety-framework {
            font-size: 13px;
            font-weight: 600;
            color: var(--text-light);
            margin-bottom: 4px;
        }

        .safety-status {
            font-size: 11px;
            color: var(--text-muted);
        }

        /* Scrollbar */
        .input-panel::-webkit-scrollbar,
        .results-panel::-webkit-scrollbar {
            width: 8px;
        }

        .input-panel::-webkit-scrollbar-track,
        .results-panel::-webkit-scrollbar-track {
            background: var(--navy-deep);
        }

        .input-panel::-webkit-scrollbar-thumb,
        .results-panel::-webkit-scrollbar-thumb {
            background: rgba(201, 169, 97, 0.2);
            border-radius: 4px;
        }

        .input-panel::-webkit-scrollbar-thumb:hover,
        .results-panel::-webkit-scrollbar-thumb:hover {
            background: rgba(201, 169, 97, 0.3);
        }

        /* Notification */
        .notification {
            position: fixed;
            top: 90px;
            right: 30px;
            background: var(--navy-card);
            border: 1px solid;
            border-radius: 8px;
            padding: 16px 20px;
            min-width: 320px;
            max-width: 400px;
            box-shadow: 0 10px 40px rgba(0, 0, 0, 0.5);
            z-index: 10000;
            animation: slideInRight 0.4s ease;
            backdrop-filter: blur(10px);
        }

        @keyframes slideInRight {
            from { transform: translateX(450px); opacity: 0; }
            to { transform: translateX(0); opacity: 1; }
        }

        .notification.error {
            border-color: var(--danger);
        }

        .notification.success {
            border-color: var(--success);
        }

        .notification-header {
            display: flex;
            align-items: center;
            gap: 12px;
            margin-bottom: 10px;
        }

        .notification-icon {
            font-size: 20px;
        }

        .notification-title {
            font-weight: 700;
            font-size: 15px;
            color: var(--text-light);
        }

        .notification-message {
            font-size: 13px;
            color: var(--text-muted);
            line-height: 1.6;
        }

        /* Responsive */
        @media (max-width: 1200px) {
            .main-container {
                grid-template-columns: 1fr;
            }

            .input-panel {
                border-right: none;
                border-bottom: 2px solid rgba(212, 175, 55, 0.2);
            }
        }
    </style>
</head>
<body>
    <!-- Header -->
    <div class="header">
        <div class="logo">
            <div class="logo-icon">Q</div>
            <div class="logo-text">
                <div class="logo-title">QNOVO</div>
                <div class="logo-subtitle">Battery Intelligence</div>
            </div>
        </div>
        <div class="header-status">
            <div class="status-dot"></div>
            <span>Genome Online</span>
        </div>
    </div>

    <!-- Main Container -->
    <div class="main-container">
        <!-- Left Panel - Input Form -->
        <div class="input-panel">
            <div class="panel-header">
                <div class="panel-title">üîã Design Intelligence Agent</div>
                <div class="panel-description">
                    Configure your battery design analysis parameters to receive insights from Qnovo's Battery Genome database.
                </div>
            </div>

            <!-- Recent Searches -->
            <div class="recent-searches">
                <div class="recent-label">
                    <span class="recent-icon">üïí</span>
                    Recent Analyses
                </div>
                <select class="recent-dropdown" id="recentSelect">
                    <option value="">Select a recent case...</option>
                    <option value="case1">Hyundai Ioniq 5 ‚Ä¢ Long Range ‚Ä¢ 800V ‚Ä¢ 12mo</option>
                    <option value="case2">Kia EV6 ‚Ä¢ Long Range ‚Ä¢ 800V ‚Ä¢ 6mo</option>
                    <option value="case3">Tesla Model Y ‚Ä¢ Long Range ‚Ä¢ 400V ‚Ä¢ 12mo</option>
                    <option value="case4">Ford Mustang Mach-E ‚Ä¢ Extended Range ‚Ä¢ 400V ‚Ä¢ 6mo</option>
                </select>
            </div>

            <!-- Input Form -->
            <form id="agentForm">
                <div class="form-group">
                    <label>Vehicle / Program <span class="required">*</span></label>
                    <select id="vehicle" required>
                        <option value="">Select Vehicle...</option>
                        <option value="Hyundai Ioniq 5">Hyundai Ioniq 5</option>
                        <option value="Hyundai Ioniq 6">Hyundai Ioniq 6</option>
                        <option value="Kia EV6">Kia EV6</option>
                        <option value="Kia EV9">Kia EV9</option>
                        <option value="Tesla Model 3">Tesla Model 3</option>
                        <option value="Tesla Model Y">Tesla Model Y</option>
                        <option value="Ford Mustang Mach-E">Ford Mustang Mach-E</option>
                        <option value="Ford F-150 Lightning">Ford F-150 Lightning</option>
                        <option value="Rivian R1T">Rivian R1T</option>
                        <option value="Rivian R1S">Rivian R1S</option>
                        <option value="Volkswagen ID.4">Volkswagen ID.4</option>
                        <option value="BMW i4">BMW i4</option>
                        <option value="Mercedes EQE">Mercedes EQE</option>
                        <option value="Other">Other / Custom...</option>
                    </select>
                </div>

                <div class="form-group">
                    <label>Range / Trim</label>
                    <select id="range">
                        <option value="">Select Range...</option>
                        <option value="Standard Range">Standard Range</option>
                        <option value="Long Range">Long Range</option>
                        <option value="Extended Range">Extended Range</option>
                        <option value="Performance">Performance</option>
                        <option value="AWD">AWD</option>
                        <option value="RWD">RWD</option>
                        <option value="Fleet / Commercial">Fleet / Commercial</option>
                        <option value="Unknown">Unknown / Not specified</option>
                    </select>
                </div>

                <div class="form-group">
                    <label>Battery Type / Architecture <span class="required">*</span></label>
                    <select id="batteryType" required>
                        <option value="">Select Battery Type...</option>
                        <option value="400V Architecture">400V Architecture</option>
                        <option value="800V Architecture">800V Architecture</option>
                        <option value="High-Power Fast Charge Enabled">High-Power Fast Charge Enabled</option>
                        <option value="Standard Fast Charge">Standard Fast Charge</option>
                        <option value="Thermal-Sensitive Profile">Thermal-Sensitive Profile</option>
                        <option value="Robust Thermal Profile">Robust Thermal Profile</option>
                        <option value="Unknown">Unknown / Not provided</option>
                    </select>
                </div>

                <div class="form-group">
                    <label>Data Window <span class="required">*</span></label>
                    <select id="dataWindow" required>
                        <option value="">Select Time Period...</option>
                        <option value="Last 30 days">Last 30 days</option>
                        <option value="Last 90 days">Last 90 days</option>
                        <option value="Last 6 months">Last 6 months</option>
                        <option value="Last 12 months">Last 12 months</option>
                        <option value="Last 24 months">Last 24 months</option>
                    </select>
                </div>

                <div class="form-group">
                    <label>Charging Usage Pattern</label>
                    <select id="chargingPattern">
                        <option value="">Select Charging Pattern...</option>
                        <option value="Mostly Home Charging">Mostly Home Charging</option>
                        <option value="Mixed Charging Use">Mixed Charging Use</option>
                        <option value="Mostly Fast Charging">Mostly Fast Charging</option>
                    </select>
                    <div class="input-hint">Based on fleet charging behavior analysis</div>
                </div>

                <button type="submit" class="run-agent-btn" id="runBtn">
                    Run Agent
                </button>
            </form>
        </div>

        <!-- Right Panel - Results -->
        <div class="results-panel">
            <!-- Agent Status (Idle/Processing) -->
            <div class="agent-status" id="agentStatus">
                <div class="agent-icon">üîã</div>
                <div class="agent-title">Agent Ready</div>
                <div class="agent-subtitle">
                    Configure your design parameters and run the intelligence agent to receive insights from the Battery Genome database.
                </div>
            </div>

            <!-- Results Container -->
            <div class="results-container" id="resultsContainer">
                <!-- Battery Profile will be inserted here -->
                <!-- Insight Cards will be inserted here -->
                <!-- Compliance Section will be inserted here -->
            </div>
        </div>
    </div>

    <script>
        // Recent case examples
        const recentCases = {
            case1: {
                vehicle: 'Hyundai Ioniq 5',
                range: 'Long Range',
                batteryType: '800V Architecture',
                dataWindow: 'Last 12 months',
                chargingPattern: 'Mixed Charging Use'
            },
            case2: {
                vehicle: 'Kia EV6',
                range: 'Long Range',
                batteryType: '800V Architecture',
                dataWindow: 'Last 6 months',
                chargingPattern: 'Mostly Fast Charging'
            },
            case3: {
                vehicle: 'Tesla Model Y',
                range: 'Long Range',
                batteryType: '400V Architecture',
                dataWindow: 'Last 12 months',
                chargingPattern: 'Mixed Charging Use'
            },
            case4: {
                vehicle: 'Ford Mustang Mach-E',
                range: 'Extended Range',
                batteryType: '400V Architecture',
                dataWindow: 'Last 6 months',
                chargingPattern: 'Mostly Home Charging'
            }
        };

        // Notification function
        function showNotification(type, title, message) {
            const existing = document.querySelector('.notification');
            if (existing) existing.remove();

            const notification = document.createElement('div');
            notification.className = `notification ${type}`;
            
            const icons = {
                error: '‚ùå',
                success: '‚úÖ'
            };

            notification.innerHTML = `
                <div class="notification-header">
                    <div class="notification-icon">${icons[type]}</div>
                    <div class="notification-title">${title}</div>
                </div>
                <div class="notification-message">${message}</div>
            `;

            document.body.appendChild(notification);

            setTimeout(() => {
                notification.style.animation = 'slideInRight 0.3s ease reverse';
                setTimeout(() => notification.remove(), 300);
            }, 5000);
        }

        // Handle recent case selection
        document.getElementById('recentSelect').addEventListener('change', function(e) {
            const caseId = e.target.value;
            if (caseId && recentCases[caseId]) {
                const caseData = recentCases[caseId];
                document.getElementById('vehicle').value = caseData.vehicle;
                document.getElementById('range').value = caseData.range;
                document.getElementById('batteryType').value = caseData.batteryType;
                document.getElementById('dataWindow').value = caseData.dataWindow;
                document.getElementById('chargingPattern').value = caseData.chargingPattern;
            }
        });

        // Form submission handler
        document.getElementById('agentForm').addEventListener('submit', async function(e) {
            e.preventDefault();

            // Collect form data
            const formData = {
                vehicle: document.getElementById('vehicle').value,
                range: document.getElementById('range').value,
                batteryType: document.getElementById('batteryType').value,
                dataWindow: document.getElementById('dataWindow').value,
                chargingPattern: document.getElementById('chargingPattern').value
            };

            // Basic validation
            if (!formData.vehicle || !formData.batteryType || !formData.dataWindow) {
                showNotification('error', 'Missing Information', 'Please fill in all required fields (Vehicle, Battery Type, and Data Window).');
                return;
            }

            // Update UI to processing state
            const agentStatus = document.getElementById('agentStatus');
            const runBtn = document.getElementById('runBtn');
            const resultsContainer = document.getElementById('resultsContainer');

            agentStatus.className = 'agent-status processing';
            runBtn.classList.add('running');
            runBtn.disabled = true;
            runBtn.textContent = 'Processing...';
            resultsContainer.classList.remove('visible');

            // Show processing steps
            const processingSteps = [
                { num: '1', text: 'Validating input parameters...', delay: 200 },
                { num: '2', text: 'Normalizing query to Genome format...', delay: 600 },
                { num: '3', text: 'Querying Battery Genome database...', delay: 1200 },
                { num: '4', text: 'Analyzing cohort patterns...', delay: 2000 },
                { num: '5', text: 'Generating insights with AI...', delay: 3000 }
            ];

            agentStatus.innerHTML = `
                <div class="agent-icon">‚ö°</div>
                <div class="agent-title">Processing Analysis</div>
                <div class="agent-subtitle">Running intelligence agent across Genome database...</div>
                <div class="processing-steps" id="processingSteps"></div>
            `;

            const stepsContainer = document.getElementById('processingSteps');
            processingSteps.forEach((step, index) => {
                setTimeout(() => {
                    const stepDiv = document.createElement('div');
                    stepDiv.className = 'step-item';
                    stepDiv.style.animationDelay = '0s';
                    stepDiv.innerHTML = `
                        <div class="step-icon">${step.num}</div>
                        <div class="step-text">${step.text}</div>
                    `;
                    stepsContainer.appendChild(stepDiv);
                }, step.delay);
            });

            try {
                // ============================================
                // n8n WEBHOOK URL - CONNECTED!
                // ============================================
                
                const N8N_WEBHOOK_URL = 'https://jado2003.app.n8n.cloud/webhook/qnovo-battery-agent';
                
                const response = await fetch(N8N_WEBHOOK_URL, {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',
                    },
                    body: JSON.stringify(formData)
                });

                const data = await response.json();

                // Check for errors
                if (!data.success || data.error) {
                    throw new Error(data.message || 'Analysis failed');
                }

                // Display results after processing animation
                setTimeout(() => {
                    displayResults(data.results);
                    agentStatus.className = 'agent-status';
                    agentStatus.innerHTML = `
                        <div class="agent-icon">‚úÖ</div>
                        <div class="agent-title">Analysis Complete</div>
                        <div class="agent-subtitle">Insights generated from Battery Genome database</div>
                    `;
                    runBtn.classList.remove('running');
                    runBtn.disabled = false;
                    runBtn.textContent = 'Run Agent';
                }, 3500);

            } catch (error) {
                console.error('Error:', error);
                agentStatus.className = 'agent-status';
                agentStatus.innerHTML = `
                    <div class="agent-icon">üîã</div>
                    <div class="agent-title">Agent Ready</div>
                    <div class="agent-subtitle">Configure your design parameters and run the intelligence agent.</div>
                `;
                runBtn.classList.remove('running');
                runBtn.disabled = false;
                runBtn.textContent = 'Run Agent';
                
                showNotification('error', 'Connection Error', error.message || 'Unable to connect to Qnovo Intelligence Agent. Please try again.');
            }
        });

        // Display results function
        function displayResults(results) {
            const resultsContainer = document.getElementById('resultsContainer');
            
            // Build Battery Profile HTML
            const profileHTML = `
                <div class="battery-profile">
                    <div class="profile-header">
                        <div class="profile-title">üîã Battery Profile</div>
                        <div class="data-coverage">
                            <div class="coverage-label">Data Coverage</div>
                            <div class="coverage-value">${results.batteryProfile.dataCoverage.vehicleCount.toLocaleString()} vehicles</div>
                            <div class="coverage-label">${(results.batteryProfile.dataCoverage.operatingHours / 1000).toFixed(1)}K hours</div>
                        </div>
                    </div>

                    <div class="profile-alert">
                        <span class="alert-icon">‚ö†Ô∏è</span>
                        <span class="alert-text">${results.batteryProfile.dataCoverage.disclaimer}</span>
                    </div>

                    <div class="profile-data">
                        <div class="profile-item">
                            <div class="profile-label">Program / Platform</div>
                            <div class="profile-value">${results.batteryProfile.profileData.program}</div>
                        </div>
                        <div class="profile-item">
                            <div class="profile-label">Voltage Class</div>
                            <div class="profile-value">${results.batteryProfile.profileData.voltageClass}</div>
                        </div>
                        <div class="profile-item">
                            <div class="profile-label">Usage Pattern</div>
                            <div class="profile-value">${results.batteryProfile.profileData.usagePattern}</div>
                        </div>
                        <div class="profile-item">
                            <div class="profile-label">Operating Environment</div>
                            <div class="profile-value">${results.batteryProfile.profileData.operatingEnvironment}</div>
                        </div>
                        <div class="profile-item">
                            <div class="profile-label">Behavior Signature</div>
                            <div class="profile-value">${results.batteryProfile.profileData.behaviorSignature}</div>
                        </div>
                    </div>

                    <div class="risk-badges">
                        <div class="risk-badge ${results.batteryProfile.riskBadges.degradationRisk.toLowerCase()}">
                            <div class="risk-badge-label">Degradation Risk</div>
                            <div class="risk-badge-value">${results.batteryProfile.riskBadges.degradationRisk}</div>
                        </div>
                        <div class="risk-badge ${results.batteryProfile.riskBadges.thermalStressExposure.toLowerCase()}">
                            <div class="risk-badge-label">Thermal Stress</div>
                            <div class="risk-badge-value">${results.batteryProfile.riskBadges.thermalStressExposure}</div>
                        </div>
                    </div>
                </div>
            `;

            // Build Insight Cards HTML
            const cardsHTML = results.cards.map(card => `
                <div class="insight-card">
                    <div class="card-header">
                        <div class="card-title-section">
                            <div class="card-title">${card.title}</div>
                            <div class="card-subtitle">${card.subtitle}</div>
                        </div>
                        <div class="card-risk-rating ${card.riskRating.toLowerCase()}">${card.riskRating} Risk</div>
                    </div>

                    <div class="card-section">
                        <div class="section-label">üìä Top Patterns Observed</div>
                        <div class="pattern-list">
                            ${card.topPatterns.map(pattern => `
                                <div class="pattern-item">${pattern}</div>
                            `).join('')}
                        </div>
                    </div>

                    <div class="card-section">
                        <div class="section-label">‚ö†Ô∏è Early Signals to Monitor</div>
                        <div class="signal-list">
                            ${card.earlySignals.map(signal => `
                                <div class="signal-item">${signal}</div>
                            `).join('')}
                        </div>
                    </div>
                </div>
            `).join('');

            // Build Compliance HTML
            const complianceHTML = `
                <div class="compliance-section">
                    <div class="compliance-title">
                        üìã Regulatory & Safety Readiness
                    </div>

                    <div class="compliance-grid">
                        ${results.compliance.marketReadiness.map(item => `
                            <div class="compliance-item">
                                <div class="compliance-icon">${item.icon}</div>
                                <div class="compliance-details">
                                    <div class="compliance-region">${item.region}</div>
                                    <div class="compliance-status">${item.status}</div>
                                </div>
                            </div>
                        `).join('')}
                    </div>

                    <div class="safety-readiness">
                        <div class="safety-icon">${results.compliance.safetyReadiness.icon}</div>
                        <div class="safety-details">
                            <div class="safety-framework">${results.compliance.safetyReadiness.framework}</div>
                            <div class="safety-status">Status: ${results.compliance.safetyReadiness.status}</div>
                        </div>
                    </div>
                </div>
            `;

            // Inject all HTML
            resultsContainer.innerHTML = profileHTML + cardsHTML + complianceHTML;
            resultsContainer.classList.add('visible');
        }
    </script>
</body>
</html>
